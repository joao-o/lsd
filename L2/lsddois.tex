\documentclass[a4paper,12pt]{article}
\usepackage{indentfirst}
\usepackage[latin1,utf8]{inputenc}
\usepackage[portuges]{babel}
\usepackage[a4paper,portrait]{geometry}
\usepackage{amsmath} 
\usepackage{multicol}
\usepackage{makeidx} 
\usepackage{color} 
\usepackage{fancyhdr}
\usepackage{url}
\usepackage{lipsum} % for dummy text only
\usepackage[pdftex]{graphicx}
\usepackage{epstopdf}
\usepackage{graphics}
\usepackage{fancyhdr}
\usepackage{cleveref}
\usepackage{hyperref}
\usepackage{fixltx2e}
\usepackage{tabularx, booktabs}
\usepackage[utf8]{inputenc}
\usepackage{geometry}
\usepackage{xlop}

%%%%%%%%%%% Predefinições de LaTeX do Tamanho da Página %%%%%%%%%%

\oddsidemargin = 30pt            % Margem do lado esquerdo: 31pt
\topmargin = 18pt                % Margem superior: 20pt  
\headheight = 12pt               % Tamanho do 'header': 12pt 
\headsep = 25pt                  % Espaço entre o 'header' e o texto: 25pt
\textheight = 592pt              % Altura do texto: 592pt
\textwidth = 390pt               % Largura do texto: 390pt
\marginparsep = 10pt             % Espaço entre margem esquerda e o texto: 10pt
\marginparwidth = 35pt           % Margem esquerda: 35pt
\footskip = 20pt                 % Espaço entre o texto e o 'footer': 30pt

\hyphenation{asso-ciada}
\input epsf

\makeindex

\begin{document}
\renewcommand{\sfdefault}{lmss}
\renewcommand{\familydefault}{\sfdefault}
\fontfamily{lmss}\selectfont

\title{\bf Relatório de Sistemas Digitais \\
Traballho L2\\
Circuitos Combinatórios Típicos}
\author{João Oliveira\\
Tomás A. Reis\\
\\
Instituto Superior Técnico \\
Universidade de Lisboa}
\date{21 de Março de 2014 \\
Quinta-Feira LSD1}
\maketitle

\pagebreak
\section{Introdução}
A escrever


\section{Projecto}
\subsection{Cálculo das Constantes}
O número de aluno utilizado foi o 78811, visto ser o de menor valor. Como 
podemos observar nas divisões apresentadas em seguida, os restos da primeira e 
segunda divisão inteira por oito, que correspondem aos dois dígitos menos 
significativos em base oito, são idênticos e de valor 3. 
\par
\vspace*{1\baselineskip}
\opdiv[maxdivstep=4]{78811}{8}\:\:\:\:\:\: \opdiv[maxdivstep=4]{9851}{8}
\vspace*{1\baselineskip}
\par
Assim, teremos:
\begin{equation}
K_1=K_0=3
\end{equation}
\subsection{Diagrama Lógico}
\subsubsection{O Circuito}
O objectivo é construir um circuito que recebe um um número A no intervalo 
[0;15], representado pelos dígitos binários a\textsubscript{3}, 
a\textsubscript{2}, a\textsubscript{1} e a\textsubscript{0} (sendo 
a\textsubscript{3} o {\it bit} mais significativo e a\textsubscript{0} o menos) 
e três {\it bits} de selecção I\textsubscript{2}, I\textsubscript{1} e 
I\textsubscript{0}, seleccionando uma de duas funções de A, e uma de quatro 
saídas, representadas por S\textsubscript{3}, S\textsubscript{2}, 
S\textsubscript{1} e S\textsubscript{0}, para esta função. A função 
f\textsubscript{1} é 1 excepto quando quando A = K\textsubscript{1}, enquanto 
f\textsubscript{0} é 1 apenas quando A = K\textsubscript{0} (este 
comportamento está apresentado em detalhe na Tabela 1 mais à frente). A 
função é seleccionada pelo {\it bit} I\textsubscript{2} e a saída pelos 
{\it bits} I\textsubscript{1} e I\textsubscript{0}, correspondendo cada 
combinação destes dois {\it bits} à saída cujo número de identificação 
é representado em binário por I\textsubscript{1}I\textsubscript{0}.
\par
\subsubsection{Funções a Seleccionar}
De forma a realizarmos as funções concluímos que o mais simples seria 
utilizarmos um {\it decoder} 3:8. Como as constantes são inferiores a 8, 
ligamos a\textsubscript{3} às duas entradas negadas do {\it enable}. Assim, 
como A é certamente diferente de K quando a\textsubscript{3} tem valor "1", o 
{\it decoder} fica inactivo nesta situação (como os {\it decoders} utilizados 
no laboratório têm as saídas negadas isto corresponde a que todos as saídas 
estejam em {\it ``high''}). A entrada positiva do enable é ligada ao VCC de 
forma a estar sempre no valor "1". 
\par
Os restantes dígitos de A são ligados às entradas do {\it decoder} para que, 
quando a\textsubscript{3} tem valor "0", a saída activa corresponda ao valor 
de A. Como f\textsubscript{1} tem valor "1" sempre que A é distinto de 
K\textsubscript{1} ligamos esta função à saída do {\it decoder} de número 
K\textsubscript{1}. Analogamente ligamos f\textsubscript{0} à saída 
K\textsubscript{0} com uma porta NOT.
\par
Neste caso, como ambas as constantes são 3, isto corresponde a ligar 
f\textsubscript{1} directamente à saída 3 deste {\it decoder} e 
f\textsubscript{0} a uma porta NOT ligada a esta mesma saída. Estas funções 
poderiam também ser concretizadas com portas lógicas, como portas NAND ou 
NOR, porém tal não levaria nem a um menor número de circuitos integrados 
utilizados nem a uma simplificação da montagem.
\par
\subsubsection{Selecção da Função}
Para a selecção das funções com o dígito I\textsubscript{2} basta dois 
{\it buffers tri-state} e uma porta NOT. Num dos {\it buffers} ligamos 
f\textsubscript{0} à entrada {\it ``In''} e I\textsubscript{2} à entrada 
negada {\it ``Ctrl''}. No segundo {\it buffer} ligamos f\textsubscript{1} a 
{\it ``In''} e I\textsubscript{2} a uma porta NOT ligada à entrada negada {\it 
``Ctrl''}. 
\par
As saídas são unidas num único sinal. Desta forma, apenas um único {\it 
buffer} estará ligado, sendo o valor de f\textsubscript{1} transmitido quando 
I\textsubscript{2} tem valor "1" e f\textsubscript{0} caso contrário. Esta 
parte também poderia ter sido realizada com portas NAND, mas tal requereria 
maior complexidade de montagem.
\par
\subsubsection{Selecção de Saída}
Por fim, a selecção de saída é a tarefa típica de uma {\it demultiplexer} 
e como tal utilizaremos outro {\it decoder} com {\it enable}, circuito 
equivalente. Em concreto, utilizaremos um {\it decoder} 3:8, disponíveis no 
laboratório. Os {\it bits} I\textsubscript{1} e I\textsubscript{0} são 
ligados às entradas de selecção do {\it decoder} de valor menos 
significativo e a entrada mais significativa ao GND. Transformamos, 
efectivamente, o {\it decoder} 3:8 num {\it decoder} 2:4, visto que apenas as 
quatro primeiras saídas (ligadas a S\textsubscript{3}, S\textsubscript{2}, 
S\textsubscript{1} e S\textsubscript{0}) poderão ser seleccionadas consoante o 
valor dos dois {\it bits} de seleccção, I\textsubscript{1} e 
I\textsubscript{0}. Como os {\it decoders} disponíveis têm as saídas 
negadas, considerar-se-á, para efeitos de simplificação, que as saídas 
inactivas estão em {\it ``high''} (o contrário podia facilmente ser obtido 
com uma porta NOT em cada saída, porém aumentaria desnecessariamente o 
número de portas lógicas utilizadas ). 
\par
Assim, ligamos a saídas dos {\it buffers} às duas entradas negadas do {\it 
enable} (e a entrada positiva ao VCC). Desta forma, quando este sinal, que 
corresponde à função seleccionada, tiver valor "0", a saída escolhida 
estará em {\it ``low''}, pois o {\it enable} estará activo, e as restantes 
estarão inactivas (em {\it ``high''}). Já quando o valor da função for "1", 
o {\it enable} é desactivado colocando a saída seleccionada (bem como as 
restantes) a {\it ``high''}. Tal corresponde ao pretendido.

\subsection{Esquema elétrico}
\includegraphics[scale=.1]{esqelect.eps}

\section{Montagem e Teste}
\subsection{Montagem}
Montou-se o circuito na {\it breadboard} utilizando os circuitos requisitados.

\pagebreak
\subsection{Teste do circuito}
%\vspace*{10\baselineskip}

\begin{table}
\centering
\begin{tabularx}{1.0\textwidth}{|| >{\setlength\hsize{1\hsize}\centering}X  
>{\setlength\hsize{1\hsize}\centering}X >{\setlength\hsize{1\hsize}\centering}X 
>{\setlength\hsize{1\hsize}\centering}X || 
>{\setlength\hsize{1\hsize}\centering}X >{\setlength\hsize{1\hsize}\centering}X 
|| >{\setlength\hsize{1\hsize}\centering}X  | >{\centering\arraybackslash}X ||}
\hline 
\multicolumn{4}{||c||}{Valores de entrada} & \multicolumn{2}{c||}{Valores 
Esperados} & \multicolumn{2}{c||}{Valores Obtidos} \\
  \hline
a\textsubscript{3} & a\textsubscript{2} & a\textsubscript{1} & 
a\textsubscript{0} & f\textsubscript{1} & f\textsubscript{0} & 
f\textsubscript{1} & f\textsubscript{0} \\ \hline
0   &  0  &  0  & 0   & L  & H  && \\ \hline
0   &  0  &  0  & 1   & L  & H  &&\\ \hline
0   &  0  &  1  & 0   & L  & H  &&\\ \hline
0   &  0  &  1  & 1   & H  & L  &&\\ \hline
0   &  1  &  0  & 0   & L  & H  &&\\ \hline
0   &  1  &  0  & 1   & L  & H  &&\\ \hline
0   &  1  &  1  & 0   & L  & H  &&\\ \hline
0   &  1  &  1  & 1   & L  & H  &&\\ \hline
1   &  0  &  0  & 0   & L  & H  &&\\ \hline
1   &  0  &  0  & 1   & L  & H  &&\\ \hline
1   &  0  &  1  & 0   & L  & H  &&\\ \hline
1   &  0  &  1  & 1   & L  & H  &&\\ \hline
1   &  1  &  0  & 0   & L  & H  &&\\ \hline
1   &  1  &  0  & 1   & L  & H  &&\\ \hline
1   &  1  &  1  & 0   & L  & H  &&\\ \hline
1   &  1  &  1  & 1   & L  & H  &&\\ \hline
\end{tabularx}
\caption{Tabela de Testes das Funções}
\end{table}



\begin{table}
\centering
\begin{tabularx}{1.0
\textwidth}{|| >{\setlength\hsize{1\hsize}\centering}X 
>{\setlength\hsize{1\hsize}\centering}X >{\setlength\hsize{1\hsize}\centering}X 
>{\setlength\hsize{1\hsize}\centering}X >{\setlength\hsize{1\hsize}\centering}X 
|| >{\setlength\hsize{1\hsize}\centering}X 
>{\setlength\hsize{1\hsize}\centering}X >{\setlength\hsize{1\hsize}\centering}X 
>{\setlength\hsize{1\hsize}\centering}X || >{\centering\arraybackslash}X  | 
>{\centering\arraybackslash} X | >{\setlength\hsize{1\hsize}\centering}X | 
>{\centering\arraybackslash}X ||}
\hline 
\multicolumn{5}{||c||}{Valores de entrada} & \multicolumn{4}{c||}{Valores 
Esperados} & \multicolumn{4}{c||}{Valores Obtidos} \\
  \hline

I\textsubscript{2} & I\textsubscript{1} & 
I\textsubscript{0} & 

f\textsubscript{1} & f\textsubscript{0} & 

S\textsubscript{3} & S\textsubscript{2} & 
S\textsubscript{1} & S\textsubscript{0} &
 
S\textsubscript{3} & S\textsubscript{2} & 
S\textsubscript{1} & S\textsubscript{0} 
\\ \hline
0  & 0  & 0  & X  & 0  & H  & H & H & L &&&& \\ \hline
0  & 0  & 0  & X  & 1  & H  & H & H & H &&&&\\ \hline
0  & 0  & 1  & X  & 0  & H  & H & L & H &&&&\\ \hline
0  & 0  & 1  & X  & 1  & H  & H & H & H &&&&\\ \hline
0  & 1  & 0  & X  & 0  & H  & L & H & H &&&&\\ \hline
0  & 1  & 0  & X  & 1  & H  & H & H & H &&&&\\ \hline
0  & 1  & 1  & X  & 0  & L  & H & H & H &&&&\\ \hline
0  & 1  & 1  & X  & 1  & H  & H & H & H &&&&\\ \hline
1  & 0  & 0  & 0  & X  & H  & H & H & L &&&&\\ \hline
1  & 0  & 0  & 1  & X  & H  & H & H & H &&&&\\ \hline
1  & 0  & 1  & 0  & X  & H  & H & L & H &&&&\\ \hline
1  & 0  & 1  & 1  & X  & H  & H & H & H &&&&\\ \hline
1  & 1  & 0  & 0  & X  & H  & L & H & H &&&&\\ \hline
1  & 1  & 0  & 1  & X  & H  & H & H & H &&&&\\ \hline
1  & 1  & 1  & 0  & X  & L  & H & H & H &&&&\\ \hline
1  & 1  & 1  & 1  & X  & H  & H & H & H &&&&\\ \hline
\end{tabularx}
\caption{Tabela de Teste das Saídas}
\end{table}

\section{Conclusão}
A escrever

\end{document}

-----------> footnotes
